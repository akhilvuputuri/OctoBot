FROM alpine:3.14.2


RUN apk update
RUN apk add git python3 py3-pip python3-dev
RUN apk add --update make cmake gcc g++ gfortran
RUN apk add xvfb


RUN wget https://github.com/mozilla/geckodriver/releases/download/v0.23.0/geckodriver-v0.23.0-linux64.tar.gz
RUN sh -c 'tar -x geckodriver -zf geckodriver-v0.23.0-linux64.tar.gz -O > /usr/bin/geckodriver'
RUN chmod +x /usr/bin/geckodriver
RUN rm geckodriver-v0.23.0-linux64.tar.gz

RUN pip install selenium==3.141.0
RUN pip install numpy
RUN pip install pyautogui
RUN pip install pyvirtualdisplay
RUN pip install bezier

#COPY files from local directory into container
COPY /main.py /
COPY /Actions.py /

ADD . /

# Run our web-scraping script
ENTRYPOINT ["python3", "-u", "./main.py"] 
